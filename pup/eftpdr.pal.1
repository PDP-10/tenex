; Copyright Xerox Corporation 1979

.TITLE EFTPDR

.CSECT GLOBAL
G=.

.CSECT

; ENTRY POINT TO START
LA1:
	SUB @(6),%0
	MOV %7,@%0
	MOV (6)+,-(0)
	CLR -2.(0)
	CLR -4.(0)
	CLR -6.(0)
	CLR -8.(0)
	MOV #000454,-10.(0)
	MOV #014000,-12.(0)
	MOV -12.(0),%1
	JSR %7,@G+216.
	000016
	MOV %1,-2.(0)
	CLR %3
	MOV -12.(0),%2
	MOV -2.(0),%1
	JSR %7,@G+260.
	000016
	MOV #000002,%2
	MOV -2.(0),%1
	JSR %7,@G+256.
	000016
	MOV %1,-8.(0)
	MOV -8.(0),%1
	ASL %1
	CLR (1)
	CLR %4
	MOV #000012,%3
	MOV -8.(0),%2
	MOV -2.(0),%1
	JSR %7,@G+324.
	000016
	JSR %7,@G+420.
	000016
	MOV -10.(0),%2
	MOV -2.(0),%1
	JSR %7,@G+256.
	000016
	MOV %1,-4.(0)
	MOV #000002,%4
	MOV LA3,%3
	MOV -10.(0),%2
	MOV -4.(0),%1
	JSR %7,@G+250.
	000016
	MOV %1,-6.(0)
	MOV -6.(0),%2
	MOV -8.(0),%1
	JSR %7,@G+230.
	000016
	MOV -6.(0),%1
	ASL %1
	MOV #177777,6.(1)
	MOV -6.(0),%1
	ASL %1
	MOV -2.(0),8.(1)
LA7:
	MOV -8.(0),%1
	ASL %1
	MOV (1),%1
	JSR %7,@G+252.
	000016
	MOV -6.(0),%1
	ASL %1
	TST 6.(1)
	BNE LA7
	JSR %7,@G+294.
	000016
	MOV (0)+,%5
	ADD (5)+,%0
	JMP @%5

LA6:
	JMP MA6

; ENTRY POINT TO EFTPDRIVER
LA2:
	SUB @(6),%0
	MOV %7,@%0
	MOV (6)+,-(0)
	MOV %0,%5
	MOV %1,-(5)
	MOV %0,%1
	CLC 
	ROR %1
	SUB #000053,%1
	MOV %1,-4.(0)
	MOV #LA999,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000130
	MOV -4.(0),%1
	JSR %7,@G+440.
	000130
	JSR %7,@G+254.
	000130
	BR LA8
LA10:
	MOV -2.(0),%1
	ASL %1
	CLR 6.(1)
LA11:
	JSR %7,@G+254.
	000130
	BR LA11
LA12:
	CLR -88.(0)
	CLR -90.(0)
	CLR -92.(0)
	CLR -94.(0)
	CLR -96.(0)
	CLR -98.(0)
	CLR -100.(0)
	MOV %0,%1
	CLC 
	ROR %1
	SUB #000107,%1
	MOV %1,-102.(0)
	MOV %0,%1
	CLC 
	ROR %1
	SUB #000114,%1
	MOV %1,-144.(0)
	MOV %0,%1
	CLC 
	ROR %1
	SUB #000121,%1
	MOV %1,-154.(0)
	MOV -2.(0),%1
	ASL %1
	MOV #000400,%2
	MOV 8.(1),%1
	JSR %7,@G+256.
	000244
	MOV %1,-164.(0)
	MOV #LA998,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000246
	MOV -4.(0),%1
	JSR %7,@G+440.
	000246
	MOV %0,%1
	CLC 
	ROR %1
	SUB #000054,%1
	MOV %0,%2
	CLC 
	ROR %2
	SUB #000055,%2
	MOV %2,%3
	MOV %1,%2
	MOV -4.(0),%1
	JSR %7,@LA5
	000246
	MOV %1,-92.(0)
	TST -92.(0)
	BNE LA13
	MOV #LA997,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000246
	BR LA14
LA8:
	JMP MA8
LA13:
	MOV #LA996,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000246
	MOV -4.(0),%1
	JSR %7,@G+440.
	000246
	MOV #040000,%3
	MOV -4.(0),%2
	CLR %1
	JSR %7,@G+444.
	000246
	MOV %1,-98.(0)
	BR LA15
LA17:
	CMP #177776,-98.(0)
	BNE LA18
	MOV %0,%1
	CLC 
	ROR %1
	SUB #000174,%1
	MOV %1,-166.(0)
	MOV #LA995,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000372
	MOV -166.(0),%1
	JSR %7,@G+440.
	000372
	MOV -166.(0),%1
	ASL %1
	MOV (1),%1
	BIC #000377,%1
	CLRB %1
	SWAB %1
	CMP %1,#000131
	BNE LA20
	MOV #040000,%3
	MOV -4.(0),%2
	MOV #000001,%1
	JSR %7,@G+444.
	000372
	MOV %1,-98.(0)
	TST -98.(0)
	BGE LA22
	MOV #LA994,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000372
	BR LA16
LA22:
	BR LA21
LA20:
	MOV #LA993,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000372
	BR LA16
LA21:
	BR LA19
LA18:
	MOV #LA992,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000246
	BR LA16
LA14:
	JMP MA14
LA19:
LA23:
	MOV -144.(0),%1
	ASL %1
	CLR (1)
	MOV -144.(0),%1
	ASL %1
	CLR 2.(1)
	MOV -144.(0),%1
	ASL %1
	MOV #000020,4.(1)
	MOV -88.(0),%1
	SWAB %1
	CLRB %1
	ADD -90.(0),%1
	MOV -154.(0),%2
	ASL %2
	MOV %1,(2)
	MOV -154.(0),%1
	ASL %1
	CLR 2.(1)
	MOV -154.(0),%1
	ASL %1
	CLR 4.(1)
	JSR %7,@G+254.
	000246
	MOV -154.(0),%3
	MOV -144.(0),%2
	MOV -102.(0),%1
	BR	LA991
LA15:
	JMP MA15
LA991:
	JSR %7,@G+422.
	000246
LA24:
	CLR -166.(0)
	MOV #177777,%3
	MOV -164.(0),%2
	MOV -102.(0),%1
	JSR %7,@G+428.
	000250
	MOV %1,-96.(0)
	TST -96.(0)
	BGE LA25
	MOV #LA990,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000250
	BR LA26
LA16:
	JMP MA16
LA25:
	TST -96.(0)
	BNE LA27
	MOV #LA989,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000250
	BR LA26
LA27:
	CLR -168.(0)
	BR LA28
LA29:
	MOV -168.(0),%1
	ADD -164.(0),%1
	ASL %1
	MOV (1),%1
	BIC #177400,%1
	SWAB %1
	CLRB %1
	MOV -168.(0),%2
	ADD -164.(0),%2
	ASL %2
	MOV (2),%2
	BIC #000377,%2
	CLRB %2
	SWAB %2
	ADD %2,%1
	MOV -168.(0),%2
	ADD -164.(0),%2
	ASL %2
	MOV %1,(2)
	INC -168.(0)
LA28:
	CMP -168.(0),#000377
	BLE LA29
	MOV -96.(0),%1
	INC %1
	CLC 
	ROR %1
	MOV %1,-166.(0)
	MOV -96.(0),%1
	BIC #177776,%1
	TST %1
	BEQ LA30
	MOV -166.(0),%1
	DEC %1
	ADD -164.(0),%1
	ASL %1
	MOV (1),%1
	BIC #177400,%1
	MOV -166.(0),%2
	DEC %2
	ADD -164.(0),%2
	ASL %2
	MOV %1,(2)
LA30:
	MOV -100.(0),%4
	MOV -166.(0),%3
	MOV -164.(0),%2
	MOV -98.(0),%1
	JSR %7,@G+450.
	000250
	MOV %1,-94.(0)
	CMP #177777,-94.(0)
	BEQ LA31
	MOV #LA988,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000250
	BR LA26
LA26:
	JMP MA26
LA31:
	INC -100.(0)
	JMP LA24
MA26:
	MOV -102.(0),%1
	JSR %7,@G+424.
	000246
	MOV -98.(0),%1
	JSR %7,@G+446.
	000246
	BR LA16
MA15:
	CLR %1
	TST -98.(0)
	BLT .+4.
	COM %1
	CMP %1,#177777
	BNE LA987
	JMP LA23
LA987:
	CMP %1,#000000
	BNE LA986
	JMP LA17
LA986:
	JMP LA16
MA16:
MA14:
	MOV -2.(0),%1
	ASL %1
	MOV -164.(0),%2
	MOV 8.(1),%1
	JSR %7,@G+258.
	000246
	BR LA9
LA32:
	CLR -88.(0)
	CLR -90.(0)
	CLR -92.(0)
	CLR -94.(0)
	CLR -96.(0)
	CLR -98.(0)
	CLR -100.(0)
	MOV %0,%1
	CLC 
	ROR %1
	SUB #000107,%1
	MOV %1,-102.(0)
	MOV %0,%1
	CLC 
	ROR %1
	SUB #000114,%1
	MOV %1,-144.(0)
	MOV -2.(0),%1
	ASL %1
	MOV #000400,%2
	MOV 8.(1),%1
	JSR %7,@G+256.
	000232
	MOV %1,-154.(0)
	MOV #LA985,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000234
	MOV -4.(0),%1
	JSR %7,@G+440.
	000234
	MOV %0,%1
	CLC 
	ROR %1
	SUB #000054,%1
	MOV %0,%2
	CLC 
	ROR %2
	SUB #000055,%2
	MOV %2,%3
	MOV %1,%2
	MOV -4.(0),%1
	JSR %7,@LA5
	000234
	MOV %1,-92.(0)
	TST -92.(0)
	BNE LA33
	MOV #LA984,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000234
	BR LA34
LA33:
	MOV #LA983,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000234
	MOV -4.(0),%1
	JSR %7,@G+440.
	000234
	MOV #040000,%3
	MOV -4.(0),%2
	MOV #177777,%1
	JSR %7,@G+444.
	000234
	MOV %1,-98.(0)
	TST -98.(0)
	BGE LA35
	MOV #LA982,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000234
	BR LA36
LA9:
	JMP MA9
LA35:
	MOV -88.(0),%1
	SWAB %1
	CLRB %1
	ADD -90.(0),%1
	MOV -144.(0),%2
	ASL %2
	MOV %1,(2)
	MOV -144.(0),%1
	ASL %1
	CLR 2.(1)
	MOV -144.(0),%1
	ASL %1
	MOV #000020,4.(1)
	JSR %7,@G+254.
	000234
	MOV -144.(0),%3
	CLR %2
	MOV -102.(0),%1
	JSR %7,@G+422.
	000234
LA37:
	MOV -100.(0),%4
	MOV #000001,%3
	MOV -154.(0),%2
	MOV -98.(0),%1
	JSR %7,@G+448.
	000234
	MOV %1,-94.(0)
	CMP #177777,-94.(0)
	BEQ LA38
	TST -94.(0)
	BNE LA39
	MOV #177777,%2
	MOV -102.(0),%1
	JSR %7,@G+430.
	000234
	MOV %1,-96.(0)
	MOV #LA981,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000234
	BR LA41
LA34:
	JMP MA34
LA39:
	MOV #LA980,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000234
	BR LA41
LA40:
LA38:
	CLR -156.(0)
	BR LA42
LA43:
	MOV -156.(0),%1
	ADD -154.(0),%1
	ASL %1
	MOV (1),%1
	BIC #177400,%1
	SWAB %1
	CLRB %1
	MOV -156.(0),%2
	ADD -154.(0),%2
	ASL %2
	MOV (2),%2
	BIC #000377,%2
	CLRB %2
	SWAB %2
	ADD %2,%1
	MOV -156.(0),%2
	ADD -154.(0),%2
	ASL %2
	MOV %1,(2)
	INC -156.(0)
LA42:
	CMP -156.(0),#000377
	BR	LA979
LA36:
	JMP MA36
LA979:
	BLE LA43
	MOV #177777,%4
	MOV #001000,%3
	MOV -154.(0),%2
	MOV -102.(0),%1
	JSR %7,@G+426.
	000234
	MOV %1,-96.(0)
	TST -96.(0)
	BGT LA44
	MOV #LA978,%1
	CLC 
	ROR %1
	JSR %7,@G+442.
	000234
	BR LA41
LA44:
	INC -100.(0)
	BR LA37
LA41:
	MOV -102.(0),%1
	JSR %7,@G+424.
	000234
	MOV -98.(0),%1
	JSR %7,@G+446.
	000234
MA36:
MA34:
	MOV -2.(0),%1
	ASL %1
	MOV -154.(0),%2
	MOV 8.(1),%1
	JSR %7,@G+258.
	000234
	JMP LA9
MA8:
	MOV -4.(0),%1
	ASL %1
	MOV (1),%1
	BIC #000377,%1
	CLRB %1
	SWAB %1
	CMP %1,#000121
	BNE LA977
	JMP LA10
LA977:
	CMP %1,#000122
	BNE LA976
	JMP LA12
LA976:
	CMP %1,#000123
	BNE LA975
	JMP LA32
LA975:
	JMP LA9
MA9:
	MOV (0)+,%5
	ADD (5)+,%0
	JMP @%5


; ENTRY POINT TO PARSE
LA4:
	SUB @(6),%0
	MOV %7,@%0
	MOV (6)+,-(0)
	MOV %0,%5
	MOV %1,-(5)
	MOV %2,-(5)
	MOV %3,-(5)
	CLR -8.(0)
	CLR -10.(0)
	MOV #000001,-12.(0)
	CLR -14.(0)
	MOV #000001,-16.(0)
	MOV -2.(0),%1
	ASL %1
	MOV (1),%1
	BIC #177400,%1
	MOV %1,-18.(0)
	MOV -4.(0),%1
	ASL %1
	CLR (1)
	MOV -6.(0),%1
	ASL %1
	CLR (1)
LA46:
	BR LA47
LA49:
	MOV -10.(0),%1
	ADD -2.(0),%1
	ASL %1
	MOV (1),%1
	BIC #177400,%1
	MOV %1,-8.(0)
	BR LA48
LA50:
	MOV -10.(0),%1
	ADD -2.(0),%1
	ASL %1
	MOV (1),%1
	BIC #000377,%1
	CLRB %1
	SWAB %1
	MOV %1,-8.(0)
	INC -10.(0)
	BR LA48
LA47:
	MOV -12.(0),%1
	BIC #177776,%1
	CMP %1,#000000
	BEQ LA49
	CMP %1,#000001
	BEQ LA50
	BR LA48
LA48:
	BR LA51
LA53:
	CMP -12.(0),-18.(0)
	BNE LA54
	MOV -6.(0),%1
	ASL %1
	MOV -14.(0),(1)
	MOV #177777,%1
	BR LA45
LA54:
	CMP #000001,-16.(0)
	BNE LA55
	MOV #000002,-16.(0)
	MOV -4.(0),%1
	ASL %1
	MOV -14.(0),(1)
	CLR -14.(0)
	INC -12.(0)
	BR LA56
LA55:
	CLR %1
	BR LA45
LA56:
	BR LA52
LA57:
LA58:
LA59:
LA60:
LA61:
LA62:
LA63:
LA64:
	CMP -12.(0),-18.(0)
	BNE LA65
	CLR %1
	BR LA45
LA65:
	MOV -14.(0),%1
	ASH #000003,%1
	MOV -8.(0),%2
	BIC #177770,%2
	ADD %2,%1
	MOV %1,-14.(0)
	INC -12.(0)
	BR LA52
LA66:
	CLR %1
	BR LA45
LA51:
	MOV -8.(0),%1
	CMP %1,#000043
	BLT LA66
	CMP %1,#000067
	BGT LA66
	ASL %1
	JMP @-70.+LA974(1)
LA974:
	LA53
	LA66
	LA66
	LA66
	LA66
	LA66
	LA66
	LA66
	LA66
	LA66
	LA66
	LA66
	LA66
	LA64
	LA57
	LA58
	LA59
	LA60
	LA61
	LA62
	LA63
LA52:
	BR LA46
LA45:
	MOV (0)+,%5
	ADD (5)+,%0
	JMP @%5

MA6:

.CSECT GLOBAL

	.=G+2.
	LA1

.CSECT

LA3:
	LA2
LA5:
	LA4
LA999:
	042431
	052106
	020120
	026455
	020055
	047105
	042524
	020122
	026123
	051040
	020054
	051117
	050440
LA998:
	051036
	041505
	044505
	042526
	043040
	046111
	020105
	026455
	020055
	047105
	042524
	020122
	047510
	052123
	044440
	000104
LA997:
	052427
	040516
	046102
	020105
	047524
	050040
	051101
	042523
	044040
	051517
	020124
	042111
LA996:
	042417
	052116
	051105
	043040
	046111
	020105
	040516
	042515
LA995:
	043040
	046111
	020105
	054105
	051511
	051524
	026440
	026455
	047440
	020113
	047524
	047440
	042526
	053522
	044522
	042524
	000077
LA994:
	052423
	040516
	046102
	020105
	047524
	047440
	042520
	020116
	044506
	042514
LA993:
	040423
	047502
	052122
	042105
	041040
	020131
	050117
	051105
	052101
	051117
LA992:
	052423
	040516
	046102
	020105
	047524
	047440
	042520
	020116
	044506
	042514
LA990:
	052024
	040522
	051516
	044515
	051523
	047511
	020116
	041101
	051117
	042524
	000104
LA989:
	043032
	046111
	020105
	042522
	042503
	053111
	042105
	051440
	041525
	042503
	051523
	052506
	046114
	000131
LA988:
	043020
	046111
	020105
	051127
	052111
	020105
	051105
	047522
	000122
LA985:
	051433
	047105
	020104
	044506
	042514
	026440
	026455
	042440
	052116
	051105
	044040
	051517
	020124
	042111
LA984:
	052427
	040516
	046102
	020105
	047524
	050040
	051101
	042523
	044040
	051517
	020124
	042111
LA983:
	042417
	052116
	051105
	043040
	046111
	020105
	040516
	042515
LA982:
	052423
	040516
	046102
	020105
	047524
	047440
	042520
	020116
	044506
	042514
LA981:
	043026
	046111
	020105
	052523
	041503
	051505
	043123
	046125
	054514
	051440
	047105
	000124
LA980:
	043017
	046111
	020105
	042522
	042101
	042440
	051122
	051117
LA978:
	052024
	040522
	051516
	044515
	051523
	047511
	020116
	041101
	051117
	042524
	000104


.END
