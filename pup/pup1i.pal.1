; Copyright Xerox Corporation 1979

.TITLE PUP1I 

.CSECT GLOBAL
G=.

.CSECT

; ENTRY POINT TO INITPUPLEVEL1
LA1:
	SUB @(6),%0
	MOV %7,@%0
	MOV (6)+,-(0)
	MOV %0,%5
	MOV %1,-(5)
	MOV %2,-(5)
	MOV %3,-(5)
	MOV %4,-(5)
	MOV %0,%1
	CLC 
	ROR %1
	SUB #000011,%1
	MOV %1,-10.(0)
	CLR -20.(0)
	CLR -22.(0)
	CLR -24.(0)
	CLR -26.(0)
	CLR -28.(0)
	MOV -10.(0),%1
	ASL %1
	CLR (1)
	MOV -10.(0),%1
	ASL %1
	CLR 2.(1)
	MOV -10.(0),%1
	ASL %1
	MOV #000002,4.(1)
	TST -8.(0)
	BNE LA3
	MOV #001024,-8.(0)
LA3:
	MOV -2.(0),G+396.
	MOV -4.(0),G+398.
	MOV -8.(0),G+404.
	MOV -8.(0),%1
	ADD #000026,%1
	MOV %1,%3
	SXT %2
	DIV #000002,%2
	MOV %2,G+402.
	MOV G+402.,%1
	ADD #000011,%1
	MOV %1,G+400.
	MOV #000012,%2
	MOV -2.(0),%1
	JSR %7,@G+256.
	000036
	MOV %1,-20.(0)
	MOV #000012,%2
	MOV -20.(0),%1
	JSR %7,@G+202.
	000036
	MOV -20.(0),G+384.
	MOV -20.(0),%1
	ADD #000002,%1
	MOV %1,G+386.
	MOV -20.(0),%1
	ADD #000004,%1
	MOV %1,G+388.
	MOV -20.(0),%1
	ADD #000006,%1
	MOV %1,G+382.
	MOV -20.(0),%1
	ADD #000010,%1
	MOV %1,G+380.
	MOV G+382.,G+390.
	MOV #000001,-30.(0)
	BR	LA999
LA2:
	JMP MA2
LA999:
	MOV -6.(0),-32.(0)
	BR LA4
LA5:
	MOV G+400.,%2
	MOV -2.(0),%1
	JSR %7,@G+256.
	000050
	MOV %1,%2
	MOV G+382.,%1
	JSR %7,@G+230.
	000042
	INC -30.(0)
LA4:
	CMP -30.(0),-32.(0)
	BLE LA5
	MOV -4.(0),%2
	MOV -2.(0),%1
	JSR %7,@G+280.
	000036
	CLR G+394.
	MOV G+380.,%1
	ASL %1
	MOV (1),-22.(0)
	BR LA7
LA6:
	INC G+394.
	MOV -22.(0),%1
	ASL %1
	MOV (1),-22.(0)
LA7:
	TST -22.(0)
	BNE LA6
	TST G+394.
	BNE LA8
	MOV #004256,%2
	CLR %1
	JSR %7,@G+212.
	000036
LA8:
	MOV #000004,%2
	MOV -2.(0),%1
	JSR %7,@G+256.
	000036
	MOV %1,G+392.
	MOV -6.(0),%1
	SUB G+394.,%1
	MOV #000002,%2
	JSR %7,@G+362.
	000036
	MOV %1,-24.(0)
	MOV -24.(0),%1
	SWAB %1
	CLRB %1
	ADD -24.(0),%1
	MOV G+392.,%2
	ASL %2
	MOV %1,(2)
	MOV -24.(0),%1
	DEC %1
	SWAB %1
	CLRB %1
	MOV -24.(0),%2
	DEC %2
	ADD %2,%1
	MOV G+392.,%2
	ASL %2
	MOV %1,2.(2)
	MOV -24.(0),%1
	DEC %1
	SWAB %1
	CLRB %1
	MOV -24.(0),%2
	DEC %2
	ADD %2,%1
	MOV G+392.,%2
	ASL %2
	MOV %1,4.(2)
	MOV G+392.,%1
	ASL %1
	MOV #100000,6.(1)
	MOV -2.(0),%1
	JSR %7,@G+330.
	000036
	CLR %2
	MOV G+414.,%1
	JSR %7,@G+344.
	000036
	MOV %1,-26.(0)
	MOV G+380.,%1
	ASL %1
	MOV -26.(0),%2
	ASL %2
	MOV (1),4.(2)
	MOV #000170,%2
	MOV -2.(0),%1
	JSR %7,@G+256.
	000042
	CLR %4
	MOV G+316.,%3
	MOV #000170,%2
	JSR %7,@G+250.
	000036
	MOV %1,G+406.
	MOV G+406.,%2
	MOV -4.(0),%1
	JSR %7,@G+230.
	000036
	MOV #000144,%2
	MOV -2.(0),%1
	JSR %7,@G+256.
	000042
	CLR %4
	MOV G+338.,%3
	MOV #000144,%2
	JSR %7,@G+250.
	000036
	MOV %1,-28.(0)
	MOV -28.(0),%2
	MOV -4.(0),%1
	JSR %7,@G+230.
	000036
	MOV #000015,%2
	MOV -2.(0),%1
	JSR %7,@G+256.
	000036
	MOV %1,G+418.
	MOV -10.(0),%3
	MOV -10.(0),%2
	MOV G+418.,%1
	JSR %7,@G+300.
	000036
	MOV -6.(0),%1
	JSR %7,@G+332.
	000036
	MOV #177777,G+416.
	MOV (0)+,%5
	ADD (5)+,%0
	JMP @%5

MA2:

.CSECT GLOBAL

	.=G+324.
	LA1

.CSECT



.END
