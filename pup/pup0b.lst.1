PUP0B 	MACN11   V4.26T   11-Jan-80 15:38:46   PAGE 1
PUP0B.PAL;1

      1					; Copyright Xerox Corporation 1979

      3					.TITLE PUP0B 

      5		000000'			.CSECT GLOBAL
      6		000000'			G=.

      8		000000'			.CSECT

     10					; ENTRY POINT TO INITPDPETHER
     11	000000'				LA1:
     12	000000'	167600	000000			SUB @(6),%0
     13	000004'	010710				MOV %7,@%0
     14	000006'	012640				MOV (6)+,-(0)
     15	000010'	010005				MOV %0,%5
     16	000012'	010145				MOV %1,-(5)
     17	000014'	010245				MOV %2,-(5)
     18	000016'	005060	177772			CLR -6.(0)
     19	000022'	012702	000032			MOV #000032,%2
     20	000026'	016001	177776			MOV -2.(0),%1
     21	000032'	004777	000400'			JSR %7,@G+256.
     22	000036'	000010				000010
     23	000040'	010160	177770			MOV %1,-8.(0)
     24	000044'	004777	000446'			JSR %7,@G+294.
     25	000050'	000012				000012
     26	000052'	010160	177766			MOV %1,-10.(0)
     27	000056'	012702	000032			MOV #000032,%2
     28	000062'	016001	177770			MOV -8.(0),%1
     29	000066'	004777	000312'			JSR %7,@G+202.
     30	000072'	000014				000014
     31	000074'	016001	177770			MOV -8.(0),%1
     32	000100'	006301				ASL %1
     33	000102'	016061	177766	000004		MOV -10.(0),4.(1)
     34	000110'	016001	177770			MOV -8.(0),%1
     35	000114'	006301				ASL %1
     36	000116'	016761	000432'	000024		MOV G+282.,20.(1)
     37	000124'	016001	177770			MOV -8.(0),%1
     38	000130'	006301				ASL %1
     39	000132'	016761	000434'	000026		MOV G+284.,22.(1)
     40	000140'	016001	177770			MOV -8.(0),%1
     41	000144'	006301				ASL %1
     42	000146'	005061	000006			CLR 6.(1)
     43	000152'	016001	177770			MOV -8.(0),%1
     44	000156'	006301				ASL %1
     45	000160'	016761	000440'	000020		MOV G+288.,16.(1)
     46	000166'	016001	177770			MOV -8.(0),%1
     47	000172'	006301				ASL %1
     48	000174'	016761	000600'	000022		MOV G+384.,18.(1)
     49	000202'	016001	177770			MOV -8.(0),%1
     50	000206'	062701	000005			ADD #000005,%1
     51	000212'	016002	177770			MOV -8.(0),%2
     52	000216'	062702	000007			ADD #000007,%2
     53	000222'	004777	000346'			JSR %7,@G+230.
     54	000226'	000014				000014
PUP0B 	MACN11   V4.26T   11-Jan-80 15:38:46   PAGE 2
PUP0B.PAL;1

     55	000230'	016002	177770			MOV -8.(0),%2
     56	000234'	016701	000574'			MOV G+380.,%1
     57	000240'	004777	000346'			JSR %7,@G+230.
     58	000244'	000014				000014
     59	000246'	012702	000024			MOV #000024,%2
     60	000252'	016001	177776			MOV -2.(0),%1
     61	000256'	004777	000400'			JSR %7,@G+256.
     62	000262'	000020				000020
     63	000264'	012704	000001			MOV #000001,%4
     64	000270'	016703	000436'			MOV G+286.,%3
     65	000274'	012702	000024			MOV #000024,%2
     66	000300'	004777	000372'			JSR %7,@G+250.
     67	000304'	000014				000014
     68	000306'	010160	177772			MOV %1,-6.(0)
     69	000312'	016001	177772			MOV -6.(0),%1
     70	000316'	006301				ASL %1
     71	000320'	016061	177770	000006		MOV -8.(0),6.(1)
     72	000326'	016002	177772			MOV -6.(0),%2
     73	000332'	016001	177774			MOV -4.(0),%1
     74	000336'	004777	000346'			JSR %7,@G+230.
     75	000342'	000014				000014
     76	000344'	016001	177770			MOV -8.(0),%1
     77	000350'	004777	000442'			JSR %7,@G+290.
     78	000354'	000014				000014
     79	000356'	012005				MOV (0)+,%5
     80	000360'	000402				BR	LA999
     81	000362'				LA5:
     82	000362'	000167	000544			JMP MA5
     83	000366'				LA999:
     84	000366'	062500				ADD (5)+,%0
     85	000370'	000115				JMP @%5


     88					; ENTRY POINT TO ENCAPSULATEETHERPUP
     89	000372'				LA2:
     90	000372'	167600	000000			SUB @(6),%0
     91	000376'	010710				MOV %7,@%0
     92	000400'	012640				MOV (6)+,-(0)
     93	000402'	010005				MOV %0,%5
     94	000404'	010145				MOV %1,-(5)
     95	000406'	010245				MOV %2,-(5)
     96	000410'	016001	177774			MOV -4.(0),%1
     97	000414'	000301				SWAB %1
     98	000416'	105001				CLRB %1
     99	000420'	016002	177776			MOV -2.(0),%2
    100	000424'	006302				ASL %2
    101	000426'	016202	000006			MOV 6.(2),%2
    102	000432'	006302				ASL %2
    103	000434'	066201	000004			ADD 4.(2),%1
    104	000440'	012702	000007			MOV #000007,%2
    105	000444'	066002	177776			ADD -2.(0),%2
    106	000450'	006302				ASL %2
    107	000452'	010112				MOV %1,(2)
    108	000454'	012701	000007			MOV #000007,%1
PUP0B 	MACN11   V4.26T   11-Jan-80 15:38:46   PAGE 3
PUP0B.PAL;1

    109	000460'	005201				INC %1
    110	000462'	066001	177776			ADD -2.(0),%1
    111	000466'	006301				ASL %1
    112	000470'	012711	001000			MOV #001000,(1)
    113	000474'	016001	177776			MOV -2.(0),%1
    114	000500'	006301				ASL %1
    115	000502'	016101	000022			MOV 18.(1),%1
    116	000506'	062701	000005			ADD #000005,%1
    117	000512'	000241				CLC 
    118	000514'	006001				ROR %1
    119	000516'	016002	177776			MOV -2.(0),%2
    120	000522'	006302				ASL %2
    121	000524'	010162	000014			MOV %1,12.(2)
    122	000530'	012005				MOV (0)+,%5
    123	000532'	062500				ADD (5)+,%0
    124	000534'	000115				JMP @%5


    127					; ENTRY POINT TO SENDETHERPACKET
    128	000536'				LA3:
    129	000536'	167600	000000			SUB @(6),%0
    130	000542'	010710				MOV %7,@%0
    131	000544'	012640				MOV (6)+,-(0)
    132	000546'	010005				MOV %0,%5
    133	000550'	010145				MOV %1,-(5)
    134	000552'	016001	177776			MOV -2.(0),%1
    135	000556'	006301				ASL %1
    136	000560'	016160	000006	177774		MOV 6.(1),-4.(0)
    137	000566'	016001	177774			MOV -4.(0),%1
    138	000572'	062701	000030			ADD #000030,%1
    139	000576'	016002	177776			MOV -2.(0),%2
    140	000602'	004777	000346'			JSR %7,@G+230.
    141	000606'	000006				000006
    142	000610'	016001	177774			MOV -4.(0),%1
    143	000614'	006301				ASL %1
    144	000616'	005761	000056			TST 46.(1)
    145	000622'	001005				BNE LA6
    146	000624'	016001	177774			MOV -4.(0),%1
    147	000630'	004777	000444'			JSR %7,@G+292.
    148	000634'	000006				000006
    149	000636'				LA6:
    150	000636'	012005				MOV (0)+,%5
    151	000640'	062500				ADD (5)+,%0
    152	000642'	000115				JMP @%5


    155					; ENTRY POINT TO FEEDETHER
    156	000644'				LA4:
    157	000644'	167600	000000			SUB @(6),%0
    158	000650'	010710				MOV %7,@%0
    159	000652'	012640				MOV (6)+,-(0)
    160	000654'	010005				MOV %0,%5
    161	000656'	010145				MOV %1,-(5)
    162	000660'				LA7:
PUP0B 	MACN11   V4.26T   11-Jan-80 15:38:46   PAGE 4
PUP0B.PAL;1

    163	000660'	016001	177776			MOV -2.(0),%1
    164	000664'	006301				ASL %1
    165	000666'	016160	000006	177774		MOV 6.(1),-4.(0)
    166	000674'	016001	177774			MOV -4.(0),%1
    167	000700'	006301				ASL %1
    168	000702'	005761	000040			TST 32.(1)
    169	000706'	001012				BNE LA8
    170	000710'	016701	000576'			MOV G+382.,%1
    171	000714'	006301				ASL %1
    172	000716'	005711				TST (1)
    173	000720'	001405				BEQ LA8
    174	000722'	016001	177774			MOV -4.(0),%1
    175	000726'	004777	000442'			JSR %7,@G+290.
    176	000732'	000006				000006
    177	000734'				LA8:
    178	000734'	016001	177774			MOV -4.(0),%1
    179	000740'	006301				ASL %1
    180	000742'	005761	000056			TST 46.(1)
    181	000746'	001465				BEQ LA9
    182	000750'	016001	177774			MOV -4.(0),%1
    183	000754'	062701	000026			ADD #000026,%1
    184	000760'	004777	000366'			JSR %7,@G+246.
    185	000764'	000006				000006
    186	000766'	005701				TST %1
    187	000770'	001454				BEQ LA9
    188	000772'	012760	160024	177772		MOV #160024,-6.(0)
    189	001000'	016001	177772			MOV -6.(0),%1
    190	001004'	006301				ASL %1
    191	001006'	005011				CLR (1)
    192	001010'	016001	177774			MOV -4.(0),%1
    193	001014'	006301				ASL %1
    194	001016'	005761	000056			TST 46.(1)
    195	001022'	001420				BEQ LA10
    196	001024'	016001	177774			MOV -4.(0),%1
    197	001030'	006301				ASL %1
    198	001032'	016101	000056			MOV 46.(1),%1
    199	001036'	006301				ASL %1
    200	001040'	016002	177774			MOV -4.(0),%2
    201	001044'	006302				ASL %2
    202	001046'	016202	000056			MOV 46.(2),%2
    203	001052'	016101	000002			MOV 2.(1),%1
    204	001056'	004777	000346'			JSR %7,@G+230.
    205	001062'	000010				000010
    206	001064'				LA10:
    207	001064'	016001	177774			MOV -4.(0),%1
    208	001070'	006301				ASL %1
    209	001072'	005061	000056			CLR 46.(1)
    210	001076'	016001	177774			MOV -4.(0),%1
    211	001102'	006301				ASL %1
    212	001104'	005061	000052			CLR 42.(1)
    213	001110'	016001	177774			MOV -4.(0),%1
    214	001114'	004777	000444'			JSR %7,@G+292.
    215	001120'	000010				000010
    216	001122'				LA9:
PUP0B 	MACN11   V4.26T   11-Jan-80 15:38:46   PAGE 5
PUP0B.PAL;1

    217	001122'	004777	000376'			JSR %7,@G+254.
    218	001126'	000006				000006
    219	001130'	000653				BR LA7

    221	001132'				MA5:

    223		000000'			.CSECT GLOBAL

    225		000430'				.=G+280.
    226	000430'	000000'				LA1
    227		000432'				.=G+282.
    228	000432'	000372'				LA2
    229		000434'				.=G+284.
    230	000434'	000536'				LA3
    231		000436'				.=G+286.
    232	000436'	000644'				LA4

    234		001132'			.CSECT



    238		000001			.END
PUP0B 	MACN11   V4.26T   11-Jan-80 15:38:46   PAGE 6
PUP0B.PAL;1	Symbol table

G      = 000000R 002	LA1      000000R 	LA10     001064R 	LA2      000372R 
LA3      000536R 	LA4      000644R 	LA5      000362R 	LA6      000636R 
LA7      000660R 	LA8      000734R 	LA9      001122R 	LA999    000366R 
MA5      001132R 	PC     =%000007  	R0     =%000000  	R1     =%000001  
R2     =%000002  	R3     =%000003  	R4     =%000004  	R5     =%000005  
R6     =%000006  	R7     =%000007  	SP     =%000006  	.MACN. = 000004  
.VRSN. = 000001  	.      = 001132R 

GLOBAL   000440  002

PUP0B 	MACN11   V4.26T   11-Jan-80 15:38:46   PAGE 7
PUP0B.PAL;1



 Errors detected: 0

 *pup0b,pup0b_pup0b.pal
 Run-time:  2 seconds

