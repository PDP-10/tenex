// EFTP.HDR -- DECLARATIONS FOR ALL EFTP FILES
// Copyright Xerox Corporation 1979

GET "LEVEL1.HDR"
GET "LEVEL0.HDR"
GET "PUPLIB.HDR"

GLOBAL
[
INITEFTPPACKAGE		:210
OPENEFTPSOC		:211
CLOSEEFTPSOC		:212
SENDEFTPBLOCK		:213
RECEIVEEFTPBLOCK		:214
SENDEFTPEND		:215
GETEFTPABORT		:216
SENDEFTPABORT		:217
RECEIVEEFTPPACKET	:218
]

//------------------------------------------------------------------
MANIFEST	//STRUCTURE EFTPSOC:
//------------------------------------------------------------------
[
SEQNUM			=13
ABORTPBI			=14	// PROVIDES POINTER TO MOST RECENT
SOMEONEELSEWAITING	=15
TRANSFERNOTSTARTED	=16	// TRUE WHILE FRN SOC NOT COMPLETED
CURRENTTIMEOUT		=17	// CURRENT RETRANSMISSION TIMEOUT
STARTTIME		=18	// TIME AT WHICH LAST DATA WAS SENT
]
MANIFEST
[
LENEFTPSOC 		= 19
]

//------------------------------------------------------------------
MANIFEST
//------------------------------------------------------------------
[
// WELL-KNOWN SOCKET
SOCKETEFTPRECEIVE 	= #20

// EFTP PROTOCOL PACKET TYPES
TYPEEFTPDATA 		= #30
TYPEEFTPACK 		= #31
TYPEEFTPEND 		= #32
TYPEEFTPABORT 		= #33

// RETURN VALUES FROM RECEIVEEFTPBLOCK AND SENDEFTPBLOCK
EFTPENDRECEIVED = 0	// THAT IS, A ZERO BYTE COUNT
EFTPTIMEOUT = -1
EFTPABORTRECEIVED = -2
EFTPABORTSENT = -3
EFTPRESETRECEIVED = -4
EFTPNOTFIRSTSYNCH = -5

// SOME RETRANSMISSION TIMEOUTS IN UNITS OF 100 MILLISECONDS
STARTINGTIMEOUT = 10	// ~1 SEC.
MAXTIMEOUT = 100		// ~10 SEC.
MINTIMEOUT = 1		// ~100 MS.
DALLYTIMEOUT = 50	// ~5 SEC DALLY PERIOD.
LONGBLOCKTIMEOUT = 300	// ~30 SEC, FOR A LONG WAIT

// ABORT CODES, FOR USE WITHIN AN EFTPABORT PACKET
EXTERNALSENDERABORT = 1
EXTERNALRECEIVERABORT = 2
RECEIVERBUSYABORT = 3
OUTOFSYNCHABORT = 4
MISCABORT = 5
]
