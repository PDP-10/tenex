	TITLE	SUZ
	RADIX	10

	LOC	0
	RIM10

	ZERO=		0
	TMP=		8
	CB=		9
	DB=		10
	KCB=		11
	KDB=		12
	CS=		13
	OS=		14
	RS=		15

	$cMax=		-19
	$cMin=		-18
	$cDspm=		-17
	$cDspl=		-16
	$last=		-15
	$rcRead=	-14
	$calErr=	-13
	$sfCon=		-12
	$sttyCon=	-11
	$codErr=	-10
	$rtnErr=	-9
	$casErr=	-8
	$subErr=	-7
	$aryErr=	-6
	$ptrErr=	-5
	$modErr=	-4
	$strCon=	-3
	$ptrCal=	-2
	$modCal=	-1

$:	DEC	$dscrSec-$
	JRST	L2232-$(CB)
	POPJ	RS,


L2189: ;PROCEDURE LDABYTE
	PUSH	CS,ZERO
	ADD	OS,[XWD 4,4]-$(CB)
	JRST	L2191-$(CB)

L2193:	SETZB	1,-3(OS)     		;B
	JRST	L2194-$(CB)

L2196:	MOVE	1,8(DB)     		;CURWORD
	LSH	1,-18
	ANDI	1,^B11111111
	MOVEM	1,-3(OS)     		;B
	JRST	L2195-$(CB)

L2197:	MOVE	1,8(DB)     		;CURWORD
	LSH	1,-26
	ANDI	1,^B11111111
	MOVEM	1,-3(OS)     		;B
	JRST	L2195-$(CB)

L2198:	MOVE	1,8(DB)     		;CURWORD
	ANDI	1,^B11111111
	MOVEM	1,-3(OS)     		;B
	JRST	L2195-$(CB)

L2199:	MOVE	1,8(DB)     		;CURWORD
	LSH	1,-8
	ANDI	1,^B11111111
	MOVEM	1,-3(OS)     		;B
	JRST	L2195-$(CB)

L2200:	PUSH	OS,9(DB)     		;CURPOS
	MOVEI	3,<4_8>!6		;$IMOD
	PUSHJ	RS,$modCal(KCB)		;CVIS
	MOVEM	1,0(CS)     		;
	MOVE	1,[POINT 7,$strSpc-$(CB)]-$(CB)
	PUSHJ	RS,$strCon(KCB)
	PUSH	CS,-1(CS)     		;
	PUSH	OS,ZERO
	MOVEI	3,<2_8>!3		;$ERRMOD
	PUSHJ	RS,$modCal(KCB)		;ERRMSG
	JRST	L2195-$(CB)

L2194:	SKIPL	1,9(DB)     		;CURPOS
	CAILE	1,3
	JRST	L2200-$(CB)
	ADDI	1,.-$(CB)
	JRST	2(1)
	JRST	L2196-$(CB)
	JRST	L2197-$(CB)
	JRST	L2198-$(CB)
	JRST	L2199-$(CB)

L2195:	AOS	1,9(DB)     		;CURPOS
	CAIG	1,3
	JRST	L2201-$(CB)
	PUSH	CS,-1(CS)     		;F
	PUSHJ	RS,L2138-$(CB)		;BDREAD
	MOVEM	1,8(DB)     		;CURWORD
	SETZB	2,9(DB)     		;CURPOS

L2201:	JRST	L2192-$(CB)

L2202:	PUSH	CS,-1(CS)     		;F
	PUSHJ	RS,L2138-$(CB)		;BDREAD
	MOVEM	1,-3(OS)     		;B
	JRST	L2192-$(CB)

L2203:	PUSH	OS,10(DB)     		;BINARYMODE
	MOVEI	3,<4_8>!6		;$IMOD
	PUSHJ	RS,$modCal(KCB)		;CVIS
	MOVEM	1,0(CS)     		;
	MOVE	1,[POINT 7,$strSpc+4-$(CB),13]-$(CB)
	PUSHJ	RS,$strCon(KCB)
	PUSH	CS,-1(CS)     		;
	PUSH	OS,ZERO
	MOVEI	3,<2_8>!3		;$ERRMOD
	PUSHJ	RS,$modCal(KCB)		;ERRMSG
	SETZB	1,-3(OS)     		;B
	JRST	L2192-$(CB)

L2191:	SKIPL	1,10(DB)     		;BINARYMODE
	CAILE	1,1
	JRST	L2203-$(CB)
	ADDI	1,.-$(CB)
	JRST	2(1)
	JRST	L2193-$(CB)
	JRST	L2202-$(CB)

L2192:	MOVE	1,-4(OS)     		;CHECKSUM
	MOVE	2,-3(OS)     		;B
	SUB	1,2     		;
	ANDI	1,^B11111111
	MOVEM	1,-4(OS)     		;CHECKSUM
	MOVE	1,-3(OS)     		;B
	SUB	CS,[XWD 2,2]-$(CB)
	SUB	OS,[XWD 4,4]-$(CB)
	POPJ	RS,

L2204: ;PROCEDURE LDAWORD
	ADD	OS,[XWD 2,2]-$(CB)
	PUSH	OS,-2(OS)     		;CHECKSUM
	PUSH	CS,0(CS)     		;F
	PUSHJ	RS,L2189-$(CB)		;LDABYTE
	POP	OS,-3(OS)     		;CHECKSUM
	PUSH	OS,-2(OS)     		;CHECKSUM
	PUSH	CS,0(CS)     		;F
	MOVEM	1,-2(OS)     		;
	PUSHJ	RS,L2189-$(CB)		;LDABYTE
	POP	OS,-3(OS)     		;CHECKSUM
	LSH	1,8
	IORM	1,-1(OS)     		;
	MOVE	1,-1(OS)     		;
	POP	CS,TMP
	SUB	OS,[XWD 2,2]-$(CB)
	POPJ	RS,

L2206: ;PROCEDURE OPENLDA
	ADD	OS,[XWD 2,2]-$(CB)
	SKIPN	1,0(CS)     		;NAME
	JRST	L2208-$(CB)
	PUSH	CS,1     		;NAME
	PUSH	OS,[^B10010]-$(CB)
	PUSH	OS,ZERO
	MOVEI	3,<3_8>!4		;$FILMOD
	PUSHJ	RS,$modCal(KCB)		;DATAOPEN
	POP	CS,-3(CS)     		;F
	POP	CS,TMP
	JRST	L2209-$(CB)

L2208:	MOVE	1,[POINT 7,$strSpc+9-$(CB),13]-$(CB)
	PUSHJ	RS,$strCon(KCB)
	PUSH	OS,[^B1010010]-$(CB)
	PUSH	OS,ZERO
	MOVEI	3,<3_8>!4		;$FILMOD
	PUSHJ	RS,$modCal(KCB)		;DATAOPEN
	POP	CS,-3(CS)     		;F
	POP	CS,TMP

L2209:	PUSH	CS,-1(CS)     		;F
	PUSHJ	RS,L2152-$(CB)		;IDREAD
	MOVEM	1,-1(OS)     		;I
	PUSH	CS,-1(CS)     		;F
	PUSH	OS,ZERO
	PUSHJ	RS,L2176-$(CB)		;SETPOS
	MOVE	1,-1(OS)     		;I
	CAIE	1,1
	JRST	L2210-$(CB)
	MOVEI	2,1
	MOVEM	2,10(DB)     		;BINARYMODE
	JRST	L2211-$(CB)

L2210:	SETZB	1,10(DB)     		;BINARYMODE
	PUSH	CS,-1(CS)     		;F
	PUSHJ	RS,L2138-$(CB)		;BDREAD
	MOVEM	1,8(DB)     		;CURWORD
	SETZB	2,9(DB)     		;CURPOS

L2211:	MOVE	1,-1(CS)     		;F
	SUB	CS,[XWD 2,2]-$(CB)
	SUB	OS,[XWD 2,2]-$(CB)
	POPJ	RS,

L2212: ;PROCEDURE CHEX
	PUSH	CS,ZERO
	PUSH	CS,ZERO
	PUSH	OS,ZERO
	PUSH	OS,-1(OS)     		;B
	PUSH	OS,[^B100]-$(CB)
	MOVEI	3,<1_8>!6		;$BMOD
	PUSHJ	RS,$modCal(KCB)		;CVBS
	MOVEM	1,-1(CS)     		;S
	LDB	2,[POINT 12,1,17]-$(CB) ;S
	CAIE	2,1
	JRST	L2214-$(CB)
	MOVE	1,[POINT 7,$strSpc+11-$(CB),20]-$(CB)
	PUSHJ	RS,$strCon(KCB)
	PUSH	CS,-2(CS)     		;S
	MOVEI	3,<6_8>!3		;$SMOD
	PUSHJ	RS,$modCal(KCB)		;$CONCAT
	SUB	CS,[XWD 2,2]-$(CB)
	SUB	OS,[XWD 2,2]-$(CB)
	POPJ	RS,

L2214:	MOVE	1,-1(CS)     		;S
	SUB	CS,[XWD 2,2]-$(CB)
	SUB	OS,[XWD 2,2]-$(CB)
	POPJ	RS,

L2215:	PUSHJ	RS,$rtnErr(KCB)

L2216: ;PROCEDURE CCHECKSUM
	ADD	OS,[XWD 5,5]-$(CB)
	MOVE	1,-5(OS)     		;I
	LSH	1,-8
	MOVEM	1,-4(OS)     		;HIGHI
	MOVE	2,-5(OS)     		;I
	ANDI	2,^B11111111
	MOVEM	2,-3(OS)     		;LOWI
	MOVE	3,-6(OS)     		;CURCHECKSUM
	ADD	2,1     		;HIGHI
	SUB	3,2     		;
	MOVE	1,3     		;
	SUB	OS,[XWD 7,7]-$(CB)
	POPJ	RS,

L2218: ;PROCEDURE CVRECORD
	PUSH	CS,ZERO
	ADD	OS,[XWD 10,10]-$(CB)
	SETZB	1,-7(OS)     		;I

L2220:	AOS	1,-7(OS)     		;I
	CAIG	1,10
	JRST	L2221-$(CB)
	PUSH	CS,23(KDB)     		;LOGFILE
	PUSH	CS,[POINT 7,$strSpc+12-$(CB)]-$(CB)
	PUSHJ	RS,$sfCon(KCB)
	PUSH	CS,23(KDB)     		;LOGFILE
	PUSH	CS,[POINT 7,$strSpc+18-$(CB),13]-$(CB)
	PUSHJ	RS,$sfCon(KCB)

L2221:	PUSH	OS,ZERO
	PUSH	CS,-2(CS)     		;LDA
	PUSHJ	RS,L2189-$(CB)		;LDABYTE
	POP	OS,TMP
	CAIE	1,^B1
	JRST	L2220-$(CB)
	PUSH	OS,ZERO
	PUSH	CS,-2(CS)     		;LDA
	PUSHJ	RS,L2189-$(CB)		;LDABYTE
	POP	OS,TMP
	PUSH	OS,ZERO
	PUSH	CS,-2(CS)     		;LDA
	PUSHJ	RS,L2204-$(CB)		;LDAWORD
	POP	OS,TMP
	SUBI	1,6
	IDIVI	1,2
	MOVEM	1,-9(OS)     		;BYTECOUNT
	PUSH	OS,ZERO
	PUSH	OS,1     		;BYTECOUNT
	PUSHJ	RS,L2216-$(CB)		;CCHECKSUM
	MOVEM	1,-5(OS)     		;CHECKSUM
	PUSH	OS,ZERO
	PUSH	CS,-2(CS)     		;LDA
	PUSHJ	RS,L2204-$(CB)		;LDAWORD
	POP	OS,TMP
	SUB	1,11(DB)     		;OFFSET
	IDIVI	1,2
	MOVEM	1,-8(OS)     		;STARTADDR
	SKIPL	2,-9(OS)     		;BYTECOUNT
	JRST	L2223-$(CB)
	SKIPA	1,[1]-$(CB)

L2223:	SETZ	1,
	MOVEM	1,-3(OS)     		;WIERDREC
	JUMPE	1,L2222-$(CB)		;WIERDREC
	PUSH	CS,23(KDB)     		;LOGFILE
	PUSH	CS,[POINT 7,$strSpc+19-$(CB)]-$(CB)
	PUSHJ	RS,$sfCon(KCB)
	PUSH	CS,23(KDB)     		;LOGFILE
	PUSH	OS,-9(OS)     		;BYTECOUNT
	MOVEI	3,<4_8>!8		;$IMOD
	PUSHJ	RS,$modCal(KCB)		;ITWRITE
	PUSH	CS,23(KDB)     		;LOGFILE
	PUSH	CS,[POINT 7,$strSpc+24-$(CB),27]-$(CB)
	PUSHJ	RS,$sfCon(KCB)
	PUSH	CS,23(KDB)     		;LOGFILE
	PUSH	OS,-8(OS)     		;STARTADDR
	MOVEI	3,<4_8>!8		;$IMOD
	PUSHJ	RS,$modCal(KCB)		;ITWRITE
	PUSH	CS,23(KDB)     		;LOGFILE
	PUSH	CS,[POINT 7,$strSpc+18-$(CB),13]-$(CB)
	PUSHJ	RS,$sfCon(KCB)

L2222:	PUSH	OS,-5(OS)     		;CHECKSUM
	PUSH	OS,-9(OS)     		;STARTADDR
	PUSHJ	RS,L2216-$(CB)		;CCHECKSUM
	MOVEM	1,-5(OS)     		;CHECKSUM
	PUSH	CS,-1(CS)     		;HEXOUT
	PUSH	OS,[58]-$(CB)
	PUSHJ	RS,L2141-$(CB)		;CFWRITE
	MOVE	1,-9(OS)     		;BYTECOUNT
	PUSH	OS,1     		;
	PUSHJ	RS,L2212-$(CB)		;CHEX
	PUSH	CS,-1(CS)     		;HEXOUT
	PUSH	CS,1     		;
	PUSHJ	RS,L1122-$(CB)		;SFWRITE
	MOVE	1,-8(OS)     		;STARTADDR
	LSH	1,-8
	ANDI	1,^B11111111
	PUSH	OS,1     		;
	PUSHJ	RS,L2212-$(CB)		;CHEX
	PUSH	CS,-1(CS)     		;HEXOUT
	PUSH	CS,1     		;
	PUSHJ	RS,L1122-$(CB)		;SFWRITE
	MOVE	1,-8(OS)     		;STARTADDR
	ANDI	1,^B11111111
	PUSH	OS,1     		;
	PUSHJ	RS,L2212-$(CB)		;CHEX
	PUSH	CS,-1(CS)     		;HEXOUT
	PUSH	CS,1     		;
	PUSHJ	RS,L1122-$(CB)		;SFWRITE
	SKIPN	1,-9(OS)     		;BYTECOUNT
	JRST	L2224-$(CB)
	PUSH	CS,-1(CS)     		;HEXOUT
	PUSH	CS,[POINT 7,$strSpc+26-$(CB),20]-$(CB)
	PUSHJ	RS,$sfCon(KCB)
	JRST	L2225-$(CB)

L2224:	PUSH	CS,-1(CS)     		;HEXOUT
	PUSH	CS,[POINT 7,$strSpc+27-$(CB),6]-$(CB)
	PUSHJ	RS,$sfCon(KCB)
	MOVE	1,-5(OS)     		;CHECKSUM
	SUBI	1,1
	ANDI	1,^B11111111
	MOVEM	1,-5(OS)     		;CHECKSUM

L2225:	MOVEI	1,1
	MOVEM	1,-7(OS)     		;I
	MOVE	2,-9(OS)     		;BYTECOUNT
	MOVEM	2,-1(OS)     		;

L2226:	MOVE	1,-7(OS)     		;I
	CAMLE	1,-1(OS)     		;
	JRST	L2227-$(CB)
	SKIPN	2,-10(OS)     		;HIGHORDER
	JRST	L2228-$(CB)
	PUSH	OS,ZERO
	PUSH	CS,-2(CS)     		;LDA
	PUSHJ	RS,L2189-$(CB)		;LDABYTE
	POP	OS,TMP
	PUSH	OS,-5(OS)     		;CHECKSUM
	PUSH	CS,-2(CS)     		;LDA
	PUSHJ	RS,L2189-$(CB)		;LDABYTE
	MOVEM	1,-7(OS)     		;B
	POP	OS,-6(OS)     		;CHECKSUM
	PUSH	OS,1     		;B
	PUSHJ	RS,L2212-$(CB)		;CHEX
	PUSH	CS,-1(CS)     		;HEXOUT
	PUSH	CS,1     		;
	PUSHJ	RS,L1122-$(CB)		;SFWRITE
	JRST	L2229-$(CB)

L2228:	PUSH	OS,-5(OS)     		;CHECKSUM
	PUSH	CS,-2(CS)     		;LDA
	PUSHJ	RS,L2189-$(CB)		;LDABYTE
	MOVEM	1,-7(OS)     		;B
	POP	OS,-6(OS)     		;CHECKSUM
	PUSH	OS,1     		;B
	PUSHJ	RS,L2212-$(CB)		;CHEX
	PUSH	CS,-1(CS)     		;HEXOUT
	PUSH	CS,1     		;
	PUSHJ	RS,L1122-$(CB)		;SFWRITE
	PUSH	OS,ZERO
	PUSH	CS,-2(CS)     		;LDA
	PUSHJ	RS,L2189-$(CB)		;LDABYTE
	POP	OS,TMP

L2229:	SKIPN	1,-3(OS)     		;WIERDREC
	JRST	L2230-$(CB)
	PUSH	CS,23(KDB)     		;LOGFILE
	PUSH	OS,-6(OS)     		;B
	MOVEI	3,<1_8>!8		;$BMOD
	PUSHJ	RS,$modCal(KCB)		;BTWRITE
	PUSH	CS,23(KDB)     		;LOGFILE
	PUSH	CS,[POINT 7,$strSpc+18-$(CB),13]-$(CB)
	PUSHJ	RS,$sfCon(KCB)

L2230:	AOS	1,-7(OS)     		;I
	JRST	L2226-$(CB)

L2227:	PUSH	OS,-5(OS)     		;CHECKSUM
	PUSHJ	RS,L2212-$(CB)		;CHEX
	PUSH	CS,-1(CS)     		;HEXOUT
	PUSH	CS,1     		;
	PUSHJ	RS,L1122-$(CB)		;SFWRITE
	PUSH	CS,-1(CS)     		;HEXOUT
	PUSH	CS,[POINT 7,$strSpc+18-$(CB),13]-$(CB)
	PUSHJ	RS,$sfCon(KCB)
	PUSH	OS,ZERO
	PUSH	CS,-2(CS)     		;LDA
	PUSHJ	RS,L2189-$(CB)		;LDABYTE
	POP	OS,TMP
	SKIPN	2,-9(OS)     		;BYTECOUNT
	JRST	L2231-$(CB)
	SKIPA	1,[1]-$(CB)

L2231:	SETZ	1,
	SUB	CS,[XWD 3,3]-$(CB)
	SUB	OS,[XWD 11,11]-$(CB)
	POPJ	RS,

L2232: ;PROCEDURE INITIALPROC
	PUSH	CS,ZERO
	PUSH	CS,ZERO
	PUSH	CS,ZERO
	ADD	OS,[XWD 6,6]-$(CB)

L2234:	PUSH	CS,-2(CS)     		;LDA
	PUSH	CS,ZERO
	PUSHJ	RS,L2206-$(CB)		;OPENLDA
	MOVEM	1,-2(CS)     		;LDA
	PUSH	CS,23(KDB)     		;LOGFILE
	PUSH	CS,[POINT 7,$strSpc+27-$(CB),27]-$(CB)
	PUSHJ	RS,$sfCon(KCB)
	PUSH	CS,24(KDB)     		;CMDFILE
	MOVEI	3,<6_8>!5		;$SMOD
	PUSHJ	RS,$modCal(KCB)		;SFREAD
	MOVEM	1,0(CS)     		;S
	PUSH	CS,1     		;S
	MOVEI	3,<1_8>!5		;$BMOD
	PUSHJ	RS,$modCal(KCB)		;CVSB
	MOVEM	1,-2(OS)     		;B
	MOVEM	1,11(DB)     		;OFFSET
	MOVE	1,[POINT 7,$strSpc+32-$(CB),13]-$(CB)
	PUSHJ	RS,$strCon(KCB)
	PUSH	OS,[^B1100001]-$(CB)
	PUSH	OS,ZERO
	MOVEI	3,<3_8>!3		;$FILMOD
	PUSHJ	RS,$modCal(KCB)		;TEXTOPEN
	POP	CS,-3(CS)     		;HEXOUT
	POP	CS,TMP
	MOVE	1,[POINT 7,$strSpc+35-$(CB),6]-$(CB)
	PUSHJ	RS,$strCon(KCB)
	PUSH	CS,ZERO
	MOVEI	3,<7_8>!3		;$UTYMOD
	PUSHJ	RS,$modCal(KCB)		;CONFIRM
	MOVEM	1,-1(OS)     		;HIGHORDER

L2235:	PUSH	CS,-2(CS)     		;LDA
	PUSH	CS,-2(CS)     		;HEXOUT
	PUSH	OS,-1(OS)     		;HIGHORDER
	PUSHJ	RS,L2218-$(CB)		;CVRECORD
	JUMPE	1,L2236-$(CB)		;
	JRST	L2235-$(CB)

L2236:	PUSH	CS,-2(CS)     		;LDA
	PUSH	OS,ZERO
	MOVEI	3,<3_8>!5		;$FILMOD
	PUSHJ	RS,$modCal(KCB)		;CLOSE
	MOVEM	1,-2(CS)     		;LDA
	PUSH	CS,-1(CS)     		;HEXOUT
	PUSH	OS,ZERO
	MOVEI	3,<3_8>!5		;$FILMOD
	PUSHJ	RS,$modCal(KCB)		;CLOSE
	MOVEM	1,-1(CS)     		;HEXOUT
	MOVE	1,[POINT 7,$strSpc+38-$(CB),27]-$(CB)
	PUSHJ	RS,$strCon(KCB)
	PUSH	CS,ZERO
	MOVEI	3,<7_8>!3		;$UTYMOD
	PUSHJ	RS,$modCal(KCB)		;CONFIRM
	JUMPN	1,L2234-$(CB)		;
	SUB	CS,[XWD 3,3]-$(CB)
	SUB	OS,[XWD 6,6]-$(CB)
	POPJ	RS,

L2152: ;PROCEDURE IDREAD
	PUSH	CS,ZERO
	ADD	OS,[XWD 2,2]-$(CB)
	SKIPN	1,-1(CS)     		;F
	JRST	L2239-$(CB)
	SKIPN	1,1     		;F
	PUSHJ	RS,$ptrErr(KCB)
	MOVE	2,3(1)     		;$STATUSBITS
	TRNE	2,^B10000
	JRST	L2238-$(CB)

L2239:	PUSH	CS,-1(CS)     		;F
	PUSH	OS,[2]-$(CB)
	PUSH	OS,[^B10000]-$(CB)
	MOVEI	3,<2_8>!4		;$ERRMOD
	PUSHJ	RS,$modCal(KCB)		;$FILEERROR
	JRST	L2241-$(CB)

L2238:	SKIPN	2,-1(CS)     		;F
	PUSHJ	RS,$ptrErr(KCB)
	SKIPE	1,7(2)     		;$REMSIZE
	JRST	L2240-$(CB)
	MOVE	1,1(2)     		;$DEVICE
	PUSH	CS,2     		;F
	PUSH	OS,[^B10000]-$(CB)
	PUSH	OS,ZERO
	MOVE	2,1     		;
	MOVEI	3,5
	PUSHJ	RS,$ptrCal(KCB)		;$DEVNEWBUF
	JUMPN	1,L2240-$(CB)		;
	SETZB	2,-1(OS)     		;V
	JRST	L2241-$(CB)

L2240:	SKIPN	2,-1(CS)     		;F
	PUSHJ	RS,$ptrErr(KCB)
	SOS	1,7(2)     		;$REMSIZE
	AOS	1,11(2)     		;$NEXTDATA
	MOVE	3,-1(1)
	MOVEM	3,-1(OS)     		;V

L2241:	MOVE	1,-1(OS)     		;V
	SUB	CS,[XWD 2,2]-$(CB)
	SUB	OS,[XWD 2,2]-$(CB)
	POPJ	RS,

L2138: ;PROCEDURE BDREAD
	PUSH	CS,ZERO
	ADD	OS,[XWD 2,2]-$(CB)
	SKIPN	1,-1(CS)     		;F
	JRST	L2244-$(CB)
	SKIPN	1,1     		;F
	PUSHJ	RS,$ptrErr(KCB)
	MOVE	2,3(1)     		;$STATUSBITS
	TRNE	2,^B10000
	JRST	L2243-$(CB)

L2244:	PUSH	CS,-1(CS)     		;F
	PUSH	OS,[6]-$(CB)
	PUSH	OS,[^B10000]-$(CB)
	MOVEI	3,<2_8>!4		;$ERRMOD
	PUSHJ	RS,$modCal(KCB)		;$FILEERROR
	JRST	L2246-$(CB)

L2243:	SKIPN	2,-1(CS)     		;F
	PUSHJ	RS,$ptrErr(KCB)
	SKIPE	1,7(2)     		;$REMSIZE
	JRST	L2245-$(CB)
	MOVE	1,1(2)     		;$DEVICE
	PUSH	CS,2     		;F
	PUSH	OS,[^B10000]-$(CB)
	PUSH	OS,ZERO
	MOVE	2,1     		;
	MOVEI	3,5
	PUSHJ	RS,$ptrCal(KCB)		;$DEVNEWBUF
	JUMPN	1,L2245-$(CB)		;
	SETZB	2,-1(OS)     		;V
	JRST	L2246-$(CB)

L2245:	SKIPN	2,-1(CS)     		;F
	PUSHJ	RS,$ptrErr(KCB)
	SOS	1,7(2)     		;$REMSIZE
	AOS	1,11(2)     		;$NEXTDATA
	MOVE	3,-1(1)
	MOVEM	3,-1(OS)     		;V

L2246:	MOVE	1,-1(OS)     		;V
	SUB	CS,[XWD 2,2]-$(CB)
	SUB	OS,[XWD 2,2]-$(CB)
	POPJ	RS,

L1122: ;PROCEDURE SFWRITE
	PUSH	CS,ZERO
	ADD	OS,[XWD 2,2]-$(CB)
	SKIPN	1,-2(CS)     		;F
	JRST	L2249-$(CB)
	SKIPN	1,1     		;F
	PUSHJ	RS,$ptrErr(KCB)
	MOVE	2,3(1)     		;$STATUSBITS
	ANDI	2,^B100100
	CAIN	2,^B100100
	JRST	L2248-$(CB)

L2249:	PUSH	CS,-2(CS)     		;F
	PUSH	OS,[8]-$(CB)
	PUSH	OS,[^B100100]-$(CB)
	MOVEI	3,<2_8>!4		;$ERRMOD
	PUSHJ	RS,$modCal(KCB)		;$FILEERROR

L2248:
L2250:	SKIPN	2,-2(CS)     		;F
	PUSHJ	RS,$ptrErr(KCB)
	SKIPE	1,7(2)     		;$REMSIZE
	JRST	L2251-$(CB)
	MOVE	1,1(2)     		;$DEVICE
	PUSH	CS,2     		;F
	PUSH	OS,[^B100000]-$(CB)
	PUSH	OS,ZERO
	MOVE	2,1     		;
	MOVEI	3,5
	PUSHJ	RS,$ptrCal(KCB)		;$DEVNEWBUF

L2251:	SKIPE	1,-1(CS)     		;S
	JRST	L2252-$(CB)
	JRST	L2253-$(CB)

L2252:	MOVE	2,-1(CS)     		;S
	LDB	TMP,[POINT 12,2,17]-$(CB)
	TLZE	2,^O7777
	TLOA	2,^O700
	SOSA	1,2
	ILDB	1,2
	SOSG	TMP
	TDZA	2,2
	DPB	TMP,[POINT 12,2,17]-$(CB)
	MOVEM	2,-1(CS)     		;S
	SKIPN	3,-2(CS)     		;F
	PUSHJ	RS,$ptrErr(KCB)
	IDPB	1,11(3)     		;$NEXTTEXT
	MOVEI	4,^B100000000000000
	IORB	4,3(3)     		;$STATUSBITS
	SOS	4,7(3)     		;$REMSIZE
	JRST	L2250-$(CB)

L2253:	SUB	CS,[XWD 3,3]-$(CB)
	SUB	OS,[XWD 2,2]-$(CB)
	POPJ	RS,

L2141: ;PROCEDURE CFWRITE
	PUSH	CS,ZERO
	PUSH	OS,ZERO
	SKIPN	1,-1(CS)     		;F
	JRST	L2256-$(CB)
	SKIPN	1,1     		;F
	PUSHJ	RS,$ptrErr(KCB)
	MOVE	2,3(1)     		;$STATUSBITS
	ANDI	2,^B100100
	CAIN	2,^B100100
	JRST	L2255-$(CB)

L2256:	PUSH	CS,-1(CS)     		;F
	PUSH	OS,[14]-$(CB)
	PUSH	OS,[^B100100]-$(CB)
	MOVEI	3,<2_8>!4		;$ERRMOD
	PUSHJ	RS,$modCal(KCB)		;$FILEERROR
	JRST	L2257-$(CB)

L2255:	SKIPN	2,-1(CS)     		;F
	PUSHJ	RS,$ptrErr(KCB)
	SKIPE	1,7(2)     		;$REMSIZE
	JRST	L2258-$(CB)
	MOVE	1,1(2)     		;$DEVICE
	PUSH	CS,2     		;F
	PUSH	OS,[^B100000]-$(CB)
	PUSH	OS,ZERO
	MOVE	2,1     		;
	MOVEI	3,5
	PUSHJ	RS,$ptrCal(KCB)		;$DEVNEWBUF

L2258:	MOVE	1,-1(OS)     		;CHAR
	SKIPN	2,-1(CS)     		;F
	PUSHJ	RS,$ptrErr(KCB)
	IDPB	1,11(2)     		;$NEXTTEXT
	MOVEI	3,^B100000000000000
	IORB	3,3(2)     		;$STATUSBITS
	SOS	3,7(2)     		;$REMSIZE
	JUMPN	3,L2259-$(CB)		;$REMSIZE
	MOVE	3,1(2)     		;$DEVICE
	PUSH	CS,2     		;F
	PUSH	OS,[^B100000]-$(CB)
	PUSH	OS,ZERO
	MOVE	2,3     		;
	MOVEI	3,5
	PUSHJ	RS,$ptrCal(KCB)		;$DEVNEWBUF

L2259:
L2257:	SUB	CS,[XWD 2,2]-$(CB)
	SUB	OS,[XWD 2,2]-$(CB)
	POPJ	RS,

L2176: ;PROCEDURE SETPOS
	PUSH	CS,ZERO
	PUSH	OS,ZERO
	SKIPN	1,-1(CS)     		;F
	JRST	L2262-$(CB)
	SKIPN	1,1     		;F
	PUSHJ	RS,$ptrErr(KCB)
	MOVE	2,3(1)     		;$STATUSBITS
	TRNN	2,^B10
	JRST	L2262-$(CB)
	SKIPL	3,-1(OS)     		;NEWPOS
	JRST	L2261-$(CB)

L2262:	PUSH	CS,-1(CS)     		;F
	PUSH	OS,ZERO
	PUSH	OS,[^B10]-$(CB)
	MOVEI	3,<2_8>!4		;$ERRMOD
	PUSHJ	RS,$modCal(KCB)		;$FILEERROR
	JRST	L2263-$(CB)

L2261:	SKIPN	2,-1(CS)     		;F
	PUSHJ	RS,$ptrErr(KCB)
	MOVE	1,1(2)     		;$DEVICE
	PUSH	CS,2     		;F
	PUSH	OS,[^B1000000000000000]-$(CB)
	PUSH	OS,-2(OS)     		;NEWPOS
	MOVE	2,1     		;
	MOVEI	3,5
	PUSHJ	RS,$ptrCal(KCB)		;$DEVNEWBUF

L2263:	SUB	CS,[XWD 2,2]-$(CB)
	SUB	OS,[XWD 2,2]-$(CB)
	POPJ	RS,

	LIT
	VAR


$dscrSec:
	OCT	0
	SIXBIT	'SUZ'
	OCT	2000
	OCT	4000
	DEC	12
	DEC	$modTbl-$dscrSec
	DEC	$strSpc-$dscrSec
	DEC	1
	DEC	8
	DEC	0
$modTbl:
	SIXBIT	'BMOD'
	SIXBIT	'ERRMOD'
	SIXBIT	'FILMOD'
	SIXBIT	'IMOD'
	SIXBIT	'KERMOD'
	SIXBIT	'SMOD'
	SIXBIT	'UTYMOD'
$strSpc:
	BYTE	(7)21,77,111,100,101
	BYTE	(7)32,101,114,114,111
	BYTE	(7)114,32,105,110,32
	BYTE	(7)99,117,114,80,111
	BYTE	(7)115,32,24,76,68
	BYTE	(7)65,32,98,105,110
	BYTE	(7)97,114,121,32,109
	BYTE	(7)111,100,101,32,101
	BYTE	(7)114,114,111,114,32
	BYTE	(7)61,32,10,76,68
	BYTE	(7)65,32,102,105,108
	BYTE	(7)101,58,32,1,48
	BYTE	(7)31,82,101,97,108
	BYTE	(7)32,108,111,110,103
	BYTE	(7)32,112,97,117,115
	BYTE	(7)101,32,98,101,116
	BYTE	(7)119,101,101,110,32
	BYTE	(7)114,101,99,111,114
	BYTE	(7)100,115,2,13,10
	BYTE	(7)28,79,109,105,103
	BYTE	(7)111,100,44,32,97
	BYTE	(7)32,119,105,101,114
	BYTE	(7)100,32,114,101,99
	BYTE	(7)111,114,100,32,66
	BYTE	(7)67,32,61,32,8
	BYTE	(7)115,116,97,114,116
	BYTE	(7)32,61,32,2,48
	BYTE	(7)48,2,48,49,22
	BYTE	(7)77,111,100,117,108
	BYTE	(7)101,32,115,116,97
	BYTE	(7)114,116,32,97,100
	BYTE	(7)100,114,101,115,115
	BYTE	(7)58,32,13,79,117
	BYTE	(7)116,112,117,116,32
	BYTE	(7)102,105,108,101,58
	BYTE	(7)32,17,72,105,103
	BYTE	(7)104,32,111,114,100
	BYTE	(7)101,114,32,98,121
	BYTE	(7)116,101,115,63,13
	BYTE	(7)65,110,111,116,104
	BYTE	(7)101,114,32,102,105
	BYTE	(7)108,101,63,0,0


	END
